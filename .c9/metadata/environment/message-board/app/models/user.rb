{"filter":false,"title":"user.rb","tooltip":"/message-board/app/models/user.rb","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":13,"column":3},"action":"insert","lines":["class User < ApplicationRecord","  before_save { self.email.downcase! }","  validates :name, presence: true, length: { maximum: 50 }","  validates :email, presence: true, length: { maximum: 255 },","                    format: { with: /\\A[\\w+\\-.]+@[a-z\\d\\-.]+\\.[a-z]+\\z/i },","                    uniqueness: { case_sensitive: false }","  has_secure_password","","  has_many :microposts","  has_many :relationships","  has_many :followings, through: :relationships, source: :follow","  has_many :reverses_of_relationship, class_name: 'Relationship', foreign_key: 'follow_id'","  has_many :followers, through: :reverses_of_relationship, source: :user","end"],"id":1}],[{"start":{"row":12,"column":72},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":13,"column":0},"end":{"row":13,"column":2},"action":"insert","lines":["  "]},{"start":{"row":13,"column":2},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":2},"action":"insert","lines":["  "]},{"start":{"row":14,"column":2},"end":{"row":15,"column":0},"action":"insert","lines":["",""]},{"start":{"row":15,"column":0},"end":{"row":15,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":14,"column":2},"end":{"row":27,"column":5},"action":"insert","lines":["def follow(other_user)","    unless self == other_user","      self.relationships.find_or_create_by(follow_id: other_user.id)","    end","  end","","  def unfollow(other_user)","    relationship = self.relationships.find_by(follow_id: other_user.id)","    relationship.destroy if relationship","  end","","  def following?(other_user)","    self.followings.include?(other_user)","  end"],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":27,"column":5},"end":{"row":27,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1580348729206,"hash":"665ed9214cd5b698baadba2eaa1069523973df88"}